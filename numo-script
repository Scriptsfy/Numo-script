javascript:(async function(){if(!window.location.hostname.includes("numo")){alert("Where's Numo, bru?");return;}if(document.getElementById("ai-sidebar")){document.getElementById("ai-sidebar").remove();return;}const s=document.createElement("div");s.id="ai-sidebar";s.style="position:fixed;top:20px;right:20px;width:350px;height:90%;background:#fffbf0;color:#000;padding:15px;border-radius:15px;box-shadow:0 4px 10px rgba(0,0,0,0.3);font-family:sans-serif;overflow:auto;z-index:99999;";s.innerHTML=%60<h3 style="margin-top:0;text-align:center;">Numo Assistent ðŸ¤–</h3><textarea id="qInput" placeholder="Typ hier je vraag" style="width:100%;height:60px;border-radius:10px;padding:5px;border:1px solid #ccc;margin-bottom:5px;"></textarea><br><textarea id="aInput" placeholder="Antwoorden (1 per regel)" style="width:100%;height:90px;border-radius:10px;padding:5px;border:1px solid #ccc;margin-bottom:5px;"></textarea><br><input type="file" id="imgInput" accept="image/*" style="margin-bottom:5px;"><br><div style="display:flex;gap:5px;margin-bottom:5px;"><button id="analyzeBtn" style="flex:1;padding:6px;border-radius:10px;background:#ffd700;border:none;cursor:pointer;">Analyseer</button><button id="autoBtn" style="flex:1;padding:6px;border-radius:10px;background:#1e90ff;border:none;cursor:pointer;color:white;">Auto Aan/Uit</button><button id="resetBtn" style="flex:1;padding:6px;border-radius:10px;background:#ff7f50;border:none;cursor:pointer;color:white;">Reset</button></div><div id="result" style="margin-top:5px;font-weight:bold;text-align:center;"></div>%60;document.body.appendChild(s);let uploaded=null;const grammarTypes=["werkwoorden","voegwoorden","zinsdelen","bijwoorden","zelfstandige naamwoorden","bijvoeglijke naamwoorden"];document.getElementById("imgInput").addEventListener("change",e=>{uploaded=e.target.files[0];});if(!window.Tesseract){await new Promise(r=>{let t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js";t.onload=r;document.head.appendChild(t);});}let lastQuestion="";let autoActive=true;async function analyze(){let text=document.getElementById("qInput").value.toLowerCase();if(uploaded){let ocr=await Tesseract.recognize(uploaded,"eng");text+=" "+ocr.data.text.toLowerCase();}let answers=document.getElementById("aInput").value.split("\n").map(a=>a.trim()).filter(a=>a);if(answers.length===0)return;let best="";let max=-1;answers.forEach(a=>{let score=0;text.split(" ").forEach(w=>{if(a.toLowerCase().includes(w))score++;});if(score>max){max=score;best=a;}});document.getElementById("result").innerText="Beste antwoord: "+(best||"Geen match gevonden");const elems=[...document.querySelectorAll("li,button,div")];answers.forEach(a=>{elems.forEach(el=>{if(el.innerText.trim().toLowerCase()===a.toLowerCase()){el.style.backgroundColor="#ffff99";if(a.toLowerCase()===best.toLowerCase()){el.click();}}});});grammarTypes.forEach(type=>{elems.forEach(el=>{if(el.innerText.toLowerCase().includes(type)){el.style.backgroundColor="#99ccff";el.style.fontWeight="bold";}});});}document.getElementById("analyzeBtn").addEventListener("click",analyze);document.getElementById("autoBtn").addEventListener("click",()=>{autoActive=!autoActive;document.getElementById("autoBtn").innerText=autoActive?"Auto Aan/Uit":"Auto Gepauzeerd";});document.getElementById("resetBtn").addEventListener("click",()=>{document.getElementById("qInput").value="";document.getElementById("aInput").value="";document.getElementById("result").innerText="";uploaded=null;});setInterval(async function(){if(autoActive){let qElem=document.querySelector("div.question, div.exercise-question, div.question-text");if(qElem){let qText=qElem.innerText.trim();if(qText&&qText!==lastQuestion){lastQuestion=qText;document.getElementById("qInput").value=qText;await analyze();}}}},2000);})();
